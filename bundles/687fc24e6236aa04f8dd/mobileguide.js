(()=>{var e={"../matrix-js-sdk/node_modules/loglevel/lib/loglevel.js":function(e,t,o){var n,r;!function(i,l){"use strict";n=function(){var e=function(){},t="undefined",o=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function r(e,t){var o=e[t];if("function"==typeof o.bind)return o.bind(e);try{return Function.prototype.bind.call(o,e)}catch(t){return function(){return Function.prototype.apply.apply(o,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&o?i:void 0!==console[n]?r(console,n):void 0!==console.log?r(console,"log"):e)}function s(t,o){for(var r=0;r<n.length;r++){var i=n[r];this[i]=r<t?e:this.methodFactory(i,t,o)}this.log=this.debug}function c(e,o,n){return function(){typeof console!==t&&(s.call(this,o,n),this[e].apply(this,arguments))}}function a(e,t,o){return l(e)||c.apply(this,arguments)}function u(e,o,r){var i,l=this;o=null==o?"WARN":o;var c="loglevel";function u(e){var o=(n[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{return void(window.localStorage[c]=o)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+o+";"}catch(e){}}}function d(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var o=window.document.cookie,n=o.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(o.slice(n))[1])}catch(e){}return void 0===l.levels[e]&&(e=void 0),e}}function f(){if(typeof window!==t&&c){try{return void window.localStorage.removeItem(c)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),l.name=e,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=r||a,l.getLevel=function(){return i},l.setLevel=function(o,n){if("string"==typeof o&&void 0!==l.levels[o.toUpperCase()]&&(o=l.levels[o.toUpperCase()]),!("number"==typeof o&&o>=0&&o<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+o;if(i=o,!1!==n&&u(o),s.call(l,o,e),typeof console===t&&o<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){o=e,d()||l.setLevel(e,!1)},l.resetLevel=function(){l.setLevel(o,!1),f()},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var v=d();null==v&&(v=o),l.setLevel(v,!1)}var d=new u,f={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new u(e,d.getLevel(),d.methodFactory)),t};var v=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=v),d},d.getLoggers=function(){return f},d.default=d,d},void 0===(r="function"==typeof n?n.call(t,o,t,e):n)||(e.exports=r)}()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o("../matrix-js-sdk/node_modules/loglevel/lib/loglevel.js"),t=o.n(e);const n="matrix";function r(e){const o=e;o.getChild=o.withPrefix=function(e){return function(e){const o=t().getLogger(`${n}-${e}`);o.prefix!==e&&(r(o),o.prefix=e,o.setLevel(t().levels.DEBUG,!1));return o}((this.prefix||"")+e)}}t().methodFactory=function(e,t,o){return function(...t){this.prefix&&t.unshift(this.prefix);return"error"===e||"warn"===e||"trace"===e||"info"===e||"debug"===e?console[e](...t):console.log(...t)}};const i=t().getLogger(n);i.setLevel(t().levels.DEBUG,!1),r(i);async function l(e){const t=new URL(e,window.location.href);t.searchParams.set("cachebuster",Date.now().toString());const o=await fetch(t,{cache:"no-cache",method:"GET"});return 404===o.status||0===o.status?{}:o.ok?o.json():void 0}function s(){document.cookie="element_mobile_redirect_to_guide=false;path=/;max-age=14400",window.location.href="../"}function c(e){e=`<h2>Error loading Element</h2><p>${e}</p><p>If this is unexpected, please contact your system administrator or technical support representative.</p>`;const t=document.getElementsByClassName("mx_HomePage_container"),o=document.getElementsByClassName("mx_HomePage_errorContainer");for(const e of t)e.innerHTML="";for(const t of o)t.style.display="block",t.innerHTML=e}!async function(){var e;document.getElementById("back_to_element_button").onclick=s;const t=await async function(e=""){""===e||e.endsWith("/")||(e+="/");let t=window.location.hostname.trimEnd();"."===t[t.length-1]&&(t=t.slice(0,-1));const o=l(`${e}config.${t}.json`),n=l(e+"config.json");try{const e=await o;if(!e||0===Object.keys(e).length)throw new Error;return e}catch(e){return n}}(".."),o=null==t?void 0:t.default_server_config,n=null==t?void 0:t.default_server_name,r=null==t?void 0:t.default_hs_url,a=null==t?void 0:t.default_is_url,u=[o,n,r].filter((e=>!!e));if(r&&(o||n))return c("Invalid configuration: a default_hs_url can't be specified along with default_server_name or default_server_config");if(u.length<1)return c("Invalid configuration: no default server specified.");let d,f;var v;if(n||"string"!=typeof(null==o||null===(e=o["m.homeserver"])||void 0===e?void 0:e.base_url)||(d=o["m.homeserver"].base_url,"string"==typeof(null===(v=o["m.identity_server"])||void 0===v?void 0:v.base_url)&&(f=o["m.identity_server"].base_url)),n)try{const e=await fetch(`https://${n}/.well-known/matrix/client`),t=await e.json();t&&t["m.homeserver"]&&(d=t["m.homeserver"].base_url,t["m.identity_server"]&&(f=t["m.identity_server"].base_url))}catch(e){if(!o||!o["m.homeserver"])return i.error(e),c("Unable to fetch homeserver configuration");d=o["m.homeserver"].base_url||void 0,o["m.identity_server"]&&(f=o["m.identity_server"].base_url||void 0)}if(r&&(d=r,f=a),!d)return c("Unable to locate homeserver");if(d&&!d.endsWith("/")&&(d+="/"),f&&!f.endsWith("/")&&(f+="/"),"https://matrix.org/"!==d){let e="https://mobile.element.io?hs_url="+encodeURIComponent(d);var p;if(f)document.getElementById("custom_is").style.display="block",document.getElementById("is_url").style.display="block",document.getElementById("is_url").innerText=f,e+="&is_url="+encodeURIComponent(null!==(p=f)&&void 0!==p?p:"");document.getElementById("configure_element_button").href=e,document.getElementById("step1_heading").innerHTML="1: Install the app",document.getElementById("step2_container").style.display="block",document.getElementById("hs_url").innerText=d}}()})()})();
//# sourceMappingURL=mobileguide.js.map